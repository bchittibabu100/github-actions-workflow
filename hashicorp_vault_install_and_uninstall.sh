2025-05-08T03:20:14.3596876Z helm upgrade opay-rpn . --install --namespace docsys-dev --wait --set-string chart.virtual.shared.image.tag="v1.0.1-devops10" --set-string chart.virtual.shared.env.RELEASE_COMMIT_SHA="e0df2ffb666f79b2bb96db96f443fb338faa684e" --set-string chart.virtual.shared.env.RELEASE_TAG="v1.0.1-devops10" --set-string chart.virtual.shared.env.DEPLOYMENT_TIME="Thu\, 08 May 2025 03:20:14 +0000" --set-string chart.virtual.shared.env.DEPLOYMENT_DATACENTER="Plano" -f default-env-dc-values.yaml -f values-dev.yaml -f secret-values.yaml
2025-05-08T03:20:16.3693268Z Error: UPGRADE FAILED: cannot patch "remittance-partner-network" with kind Deployment:  "" is invalid: patch: Invalid value: "{\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{\"deployment.kubernetes.io/revision\":\"1\",\"meta.helm.sh/release-name\":\"opay-rpn\",\"meta.helm.sh/release-namespace\":\"docsys-dev\"},\"creationTimestamp\":\"2025-05-08T02:34:55Z\",\"generation\":1,\"labels\":{\"app\":\"opay-rpn-remittance-partner-network-development\",\"app.kubernetes.io/cluster-domain\":\"dev.pks.vpayusa.net\",\"app.kubernetes.io/instance\":\"opay-rpn-remittance-partner-network\",\"app.kubernetes.io/managed-by\":\"Helm\",\"app.kubernetes.io/name\":\"remittance-partner-network\",\"app.kubernetes.io/part-of\":\"remittance-partner-network\",\"helm.sh/chart\":\"remittance-partner-network-0.0.1\"},\"managedFields\":[{\"manager\":\"helm\",\"operation\":\"Update\",\"apiVersion\":\"apps/v1\",\"time\":\"2025-05-08T02:34:55Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:meta.helm.sh/release-name\":{},\"f:meta.helm.sh/release-namespace\":{}},\"f:labels\":{\".\":{},\"f:app\":{},\"f:app.kubernetes.io/cluster-domain\":{},\"f:app.kubernetes.io/instance\":{},\"f:app.kubernetes.io/managed-by\":{},\"f:app.kubernetes.io/name\":{},\"f:app.kubernetes.io/part-of\":{},\"f:helm.sh/chart\":{}}},\"f:spec\":{\"f:progressDeadlineSeconds\":{},\"f:replicas\":{},\"f:revisionHistoryLimit\":{},\"f:selector\":{},\"f:strategy\":{\"f:rollingUpdate\":{\".\":{},\"f:maxSurge\":{},\"f:maxUnavailable\":{}},\"f:type\":{}},\"f:template\":{\"f:metadata\":{\"f:labels\":{\".\":{},\"f:app\":{},\"f:app.kubernetes.io/cluster-domain\":{},\"f:app.kubernetes.io/instance\":{},\"f:app.kubernetes.io/managed-by\":{},\"f:app.kubernetes.io/name\":{},\"f:app.kubernetes.io/part-of\":{},\"f:helm.sh/chart\":{}}},\"f:spec\":{\"f:containers\":{\"k:{\\\"name\\\":\\\"remittance-partner-network\\\"}\":{\".\":{},\"f:env\":{\".\":{},\"k:{\\\"name\\\":\\\"DEPLOYMENT_DATACENTER\\\"}\":{\".\":{},\"f:name\":{},\"f:value\":{}},\"k:{\\\"name\\\":\\\"DEPLOYMENT_TIME\\\"}\":{\".\":{},\"f:name\":{},\"f:value\":{}},\"k:{\\\"name\\\":\\\"K8S_NODE_NAME\\\"}\":{\".\":{},\"f:name\":{},\"f:valueFrom\":{\".\":{},\"f:fieldRef\":{\".\":{},\"f:apiVersion\":{},\"f:fieldPath\":{}}}},\"k:{\\\"name\\\":\\\"K8S_POD_NAME\\\"}\":{\".\":{},\"f:name\":{},\"f:valueFrom\":{\".\":{},\"f:fieldRef\":{\".\":{},\"f:apiVersion\":{},\"f:fieldPath\":{}}}},\"k:{\\\"name\\\":\\\"NODE_ENV\\\"}\":{\".\":{},\"f:name\":{},\"f:value\":{}},\"k:{\\\"name\\\":\\\"RELEASE_COMMIT_SHA\\\"}\":{\".\":{},\"f:name\":{},\"f:value\":{}},\"k:{\\\"name\\\":\\\"RELEASE_TAG\\\"}\":{\".\":{},\"f:name\":{},\"f:value\":{}},\"k:{\\\"name\\\":\\\"graylog_facility\\\"}\":{\".\":{},\"f:name\":{},\"f:value\":{}},\"k:{\\\"name\\\":\\\"graylog_handle_exceptions\\\"}\":{\".\":{},\"f:name\":{},\"f:value\":{}},\"k:{\\\"name\\\":\\\"graylog_level\\\"}\":{\".\":{},\"f:name\":{},\"f:value\":{}},\"k:{\\\"name\\\":\\\"graylog_servers\\\"}\":{\".\":{},\"f:name\":{},\"f:value\":{}},\"k:{\\\"name\\\":\\\"injectedVars\\\"}\":{\".\":{},\"f:name\":{},\"f:value\":{}},\"k:{\\\"name\\\":\\\"server_environment\\\"}\":{\".\":{},\"f:name\":{},\"f:value\":{}},\"k:{\\\"name\\\":\\\"winston_silent_console\\\"}\":{\".\":{},\"f:name\":{},\"f:value\":{}}},\"f:image\":{},\"f:imagePullPolicy\":{},\"f:livenessProbe\":{\".\":{},\"f:failureThreshold\":{},\"f:initialDelaySeconds\":{},\"f:periodSeconds\":{},\"f:successThreshold\":{},\"f:tcpSocket\":{\".\":{},\"f:port\":{}},\"f:timeoutSeconds\":{}},\"f:name\":{},\"f:ports\":{\".\":{},\"k:{\\\"containerPort\\\":8080,\\\"protocol\\\":\\\"TCP\\\"}\":{\".\":{},\"f:containerPort\":{},\"f:name\":{},\"f:protocol\":{}}},\"f:readinessProbe\":{\".\":{},\"f:failureThreshold\":{},\"f:httpGet\":{\".\":{},\"f:path\":{},\"f:port\":{},\"f:scheme\":{}},\"f:periodSeconds\":{},\"f:successThreshold\":{},\"f:timeoutSeconds\":{}},\"f:resources\":{\".\":{},\"f:limits\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:cpu\":{},\"f:memory\":{}}},\"f:terminationMessagePath\":{},\"f:terminationMessagePolicy\":{}}},\"f:dnsPolicy\":{},\"f:restartPolicy\":{},\"f:schedulerName\":{},\"f:securityContext\":{},\"f:terminationGracePeriodSeconds\":{}}}}}},{\"manager\":\"kube-controller-manager\",\"operation\":\"Update\",\"apiVersion\":\"apps/v1\",\"time\":\"2025-05-08T02:35:56Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:deployment.kubernetes.io/revision\":{}}},\"f:status\":{\"f:availableReplicas\":{},\"f:conditions\":{\".\":{},\"k:{\\\"type\\\":\\\"Available\\\"}\":{\".\":{},\"f:lastTransitionTime\":{},\"f:lastUpdateTime\":{},\"f:message\":{},\"f:reason\":{},\"f:status\":{},\"f:type\":{}},\"k:{\\\"type\\\":\\\"Progressing\\\"}\":{\".\":{},\"f:lastTransitionTime\":{},\"f:lastUpdateTime\":{},\"f:message\":{},\"f:reason\":{},\"f:status\":{},\"f:type\":{}}},\"f:observedGeneration\":{},\"f:readyReplicas\":{},\"f:replicas\":{},\"f:updatedReplicas\":{}}}}],\"name\":\"remittance-partner-network\",\"namespace\":\"docsys-dev\",\"resourceVersion\":\"467094186\",\"uid\":\"6351aeb3-d3a5-4389-bb3b-cac7ad82554d\"},\"spec\":{\"progressDeadlineSeconds\":600,\"replicas\":1,\"revisionHistoryLimit\":4,\"selector\":{\"matchLabels\":{\"app.kubernetes.io/instance\":\"opay-rpn-remittance-partner-network\",\"app.kubernetes.io/name\":\"remittance-partner-network\"}},\"strategy\":{\"type\":\"RollingUpdate\",\"rollingUpdate\":{\"maxUnavailable\":\"0%!\(MISSING)",\"maxSurge\":\"100%!\(MISSING)"}},\"template\":{\"metadata\":{\"creationTimestamp\":null,\"labels\":{\"app\":\"opay-rpn-remittance-partner-network-development\",\"app.kubernetes.io/cluster-domain\":\"dev.pks.vpayusa.net\",\"app.kubernetes.io/instance\":\"opay-rpn-remittance-partner-network\",\"app.kubernetes.io/managed-by\":\"Helm\",\"app.kubernetes.io/name\":\"remittance-partner-network\",\"app.kubernetes.io/part-of\":\"remittance-partner-network\",\"helm.sh/chart\":\"remittance-partner-network-0.0.1\"}},\"spec\":{\"containers\":[{\"env\":[{\"name\":\"K8S_NODE_NAME\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"spec.nodeName\"}}},{\"name\":\"K8S_POD_NAME\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.name\"}}},{\"name\":0,\"value\":\"map[name:NODE_ENV value:development]\"},{\"name\":1,\"value\":\"map[name:server_environment value:Development]\"},{\"name\":2,\"value\":\"map[name:graylog_level value:debug]\"},{\"name\":3,\"value\":\"map[name:winston_silent_console value:false]\"},{\"name\":4,\"value\":\"map[name:graylog_handle_exceptions value:true]\"},{\"name\":5,\"value\":\"map[name:graylog_facility value:remittance-partner-network]\"},{\"name\":6,\"value\":\"map[name:graylog_servers value:[{\\\"host\\\": \\\"nonprod-syslog.vpayusa.net\\\", \\\"port\\\": 5555}]]\"},{\"name\":7,\"value\":\"map[name:PARTNER_SERVICEENDPOINT valueFrom:map[configMapKeyRef:map[key:remittance-configs.partner.serviceEndpoint name:remittance-partner-network-configmap]]]\"},{\"name\":8,\"value\":\"map[name:PARTNER_SEND_INDICATOR valueFrom:map[configMapKeyRef:map[key:remittance-configs.partner.sendIndicator name:remittance-partner-network-configmap]]]\"},{\"name\":9,\"value\":\"map[name:PARTNER_B2B_SEND_INDICATOR valueFrom:map[configMapKeyRef:map[key:remittance-configs.partner.b2bSendIndicator name:remittance-partner-network-configmap]]]\"},{\"name\":10,\"value\":\"map[name:PARTNER_CLIENTKEY valueFrom:map[configMapKeyRef:map[key:remittance-configs.partner.clientKey name:remittance-partner-network-configmap]]]\"},{\"name\":11,\"value\":\"map[name:PARTNER_CLIENTKEYVALUE valueFrom:map[configMapKeyRef:map[key:remittance-configs.partner.clientKeyValue name:remittance-partner-network-configmap]]]\"},{\"name\":12,\"value\":\"map[name:PARTNER_CLIENTSECRETKEY valueFrom:map[configMapKeyRef:map[key:remittance-configs.partner.clientSecretKey name:remittance-partner-network-configmap]]]\"},{\"name\":13,\"value\":\"map[name:PARTNER_CLIENTSECRETKEYVALUE valueFrom:map[configMapKeyRef:map[key:remittance-configs.partner.clientSecretKeyValue name:remittance-partner-network-configmap]]]\"},{\"name\":14,\"value\":\"map[name:PARTNER_CLIENTAPIKEY valueFrom:map[configMapKeyRef:map[key:remittance-configs.partner.clientApiKey name:remittance-partner-network-configmap]]]\"},{\"name\":15,\"value\":\"map[name:PARTNER_CLIENTAUTHENDPOINT valueFrom:map[configMapKeyRef:map[key:remittance-configs.partner.clientAuthEndpoint name:remittance-partner-network-configmap]]]\"},{\"name\":16,\"value\":\"map[name:PARTNER_SCOPEVALUE valueFrom:map[configMapKeyRef:map[key:remittance-configs.partner.scopeValue name:remittance-partner-network-configmap]]]\"}],\"image\":\"docker.repo1.test.com/vpay-docker/optum/opay-remittance-partner-network:v1.0.1-devops10\",\"imagePullPolicy\":\"Always\",\"livenessProbe\":{\"failureThreshold\":5,\"initialDelaySeconds\":30,\"periodSeconds\":30,\"successThreshold\":1,\"tcpSocket\":{\"port\":\"primary-port\"},\"timeoutSeconds\":3},\"name\":\"remittance-partner-network\",\"ports\":[{\"containerPort\":8080,\"name\":\"primary-port\",\"protocol\":\"TCP\"}],\"readinessProbe\":{\"failureThreshold\":3,\"httpGet\":{\"path\":\"/actuator/health\",\"port\":\"primary-port\"},\"periodSeconds\":10,\"successThreshold\":1,\"timeoutSeconds\":3},\"resources\":{\"limits\":{\"cpu\":\"1000m\",\"memory\":\"2560Mi\"},\"requests\":{\"cpu\":\"1000m\",\"memory\":\"2560Mi\"}}}],\"dnsPolicy\":\"ClusterFirst\",\"restartPolicy\":\"Always\",\"schedulerName\":\"default-scheduler\",\"securityContext\":{},\"terminationGracePeriodSeconds\":30}}},\"status\":{\"observedGeneration\":1,\"replicas\":1,\"updatedReplicas\":1,\"readyReplicas\":1,\"availableReplicas\":1,\"conditions\":[{\"type\":\"Available\",\"status\":\"True\",\"lastUpdateTime\":\"2025-05-08T02:35:56Z\",\"lastTransitionTime\":\"2025-05-08T02:35:56Z\",\"reason\":\"MinimumReplicasAvailable\",\"message\":\"Deployment has minimum availability.\"},{\"type\":\"Progressing\",\"status\":\"True\",\"lastUpdateTime\":\"2025-05-08T02:35:56Z\",\"lastTransitionTime\":\"2025-05-08T02:34:55Z\",\"reason\":\"NewReplicaSetAvailable\",\"message\":\"ReplicaSet \\\"remittance-partner-network-546bf46547\\\" has successfully progressed.\"}]}}": v1.Deployment.Spec: v1.DeploymentSpec.Template: v1.PodTemplateSpec.Spec: v1.PodSpec.Containers: []v1.Container: v1.Container.Env: []v1.EnvVar: v1.EnvVar.v1.EnvVar.Value: Name: ReadString: expects " or n, but found 0, error found in #10 byte of ...|,{"name":0,"value":"|..., bigger context ...|ieldRef":{"fieldPath":"metadata.name"}}},{"name":0,"value":"map[name:NODE_ENV value:development]"},{|...
2025-05-08T03:20:16.3745396Z ##[error]Process completed with exit code 1.
